## 资产入库处理
同样采用和中控机一样的可插拔插件的方式来实现，在`API/plugins`下。

以硬盘为例，小技巧就是对槽位利用集合的交集，并集，差集的操作得到如下三类操作的对象

**资产增加**
可以用模型对象的`create()`方法，或者直接利用类新建对象，然后`save()`

**资产更新**
可以用模型对象的`update()`方法，或者直接利用字段赋值然后`save()`
比较方便的更新是直接针对传递进来的字典数据利用`update(**info)`方式展开为参数，但是这样子就不能做后续的资产变更记录了

**资产删除**

## 资产变更记录
历史记录，类似于电商中的订单，需要单独建表，与Server表是一对多的关系，外键连接。

在上述入库处理过程的同时，通过字符串拼接的方式将资产的变更记录存入Record表。

## Class Based View
为了遵循Restful规范，通过CBV将get请求和post请求放到同一个url下。同时使用`method_decorator`将dispatch加上csrf豁免。
> 注意，使用函数类型的视图函数也是可以达到目的的，只不过要使用if...else...结构进行判断